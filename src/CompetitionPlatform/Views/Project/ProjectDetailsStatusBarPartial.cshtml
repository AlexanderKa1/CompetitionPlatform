@model CompetitionPlatform.Models.ProjectViewModels.ProjectDetailsStatusBarViewModel

<div class="progress status-progress-bar">
    @{
        int completion = 0;
        string style = "";
        bool showDeadline = false;
        string deadline = "";
    }

    @switch (Model.Status)
    {
        case Status.Initiative:
            completion = 20;
            style = "progress-bar-info";
            break;
        case Status.CompetitionRegistration:
            completion = 40;
            style = "progress-bar-success";
            showDeadline = true;
            deadline = @Model.CompetitionRegistrationDeadline.ToString("MMMM dd");
            break;
        case Status.Implementation:
            completion = 60;
            style = "progress-bar-danger";
            showDeadline = true;
            deadline = @Model.ImplementationDeadline.ToString("MMMM dd");
            break;
        case Status.Voting:
            completion = 80;
            style = "progress-bar-warning";
            showDeadline = true;
            deadline = @Model.VotingDeadline.ToString("MMMM dd");
            break;
        case Status.Archive:
            completion = 100;
            break;
    }

    <div class="project-status-progress progress-bar @style inline" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
        <div class="inline project-status-bar-text navbar-left">
            @Model.Status.ToString().ToUpper()
        </div>

        @if (showDeadline)
        {
            <div class="inline project-status-bar-deadline-text navbar-right">
                <span class="glyphicon glyphicon-fire" aria-hidden="true"></span> @deadline
            </div>
        }
    </div>
</div>

